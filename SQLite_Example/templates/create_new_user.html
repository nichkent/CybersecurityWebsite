{% block content %}

<div class="card">
    <div class="card-body">
        <div id="accordion">
            <div class="card">
                <div class="card-header" id="headingOne">
                    <h5 class="mb-0"></h5>
                    <h1>User Creation Page</h1>

        <div class="row mt-3">
            <div class="col md-6">
                <body>
                Welcome to the user creation section! To create an account with us, enter you new username and password in the
                areas below, then click the submit button. Once this has been done, return to the login screen from the main
                menu and login with your new credentials.
                </body>
                <form action="{{ url_for('.create_new_user') }}" method="POST"
                      id="create_new_user_form">
                    <div class="form-group">
                        <br>
                        <label for="username">Username:</label><input
                            class="form-control" type="text" id="username"
                            name="username" required><br/>
                        <label for="password">Password:</label><input
                            class="form-control" type='password' id="password"
                            name="password" required minlength="8" maxlength="25"
                            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                            title="Must contain at least one number and one uppercase and lowercase letter,
                            and at least 8 or more characters">
                        <br>
                        <button type="submit" class="btn btn-primary mt-4">
                            Submit
                        </button>

                        <script>
                            function CheckPassword(password)
                            {
                                let checker=  /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$/;
                                if(password.value.match(checker))
                                {
                                    return password;
                                }
                                else
                                {
                                    alert('Make sure your password has at least one lowercase and uppercase letter,' +
                                        'a number, and a special character!')
                                    return false;
                                }
                            }
                        </script>

                    </div>
                    <br>
                    <body>
                    If you would like to generate a strong random password for your account click the button below
                    </body>
                    <br>
                    <button type="button" onclick="random_password()" class="btn btn-primary mt-4">
                        Click Me!
                    </button>
                    <script>
                        function random_password()
                        {
                            let characters = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+=-}{][';?/`~"
                            let default_pass_size = 16;
                            let rand_pass = ''
                            for(let i = 0; i < default_pass_size; i++)
                            {
                                var rand_num = Math.floor(Math.random() * characters.length);
                                rand_pass += characters.substring(rand_num, rand_num +1);
                            }
                            document.write(rand_pass);
                        }
                    </script>
                </form>
                <br>
                <body>
                Once you have finished creating your account. Click below to navigate to the login page. Or click the
                link below that to navigate back to the home page.
                </body>
                <div id = "ReturnToLogin">
                    <a href = "/login">Login Page</a>
                </div>
                <br>
                <div id = "ReturnToHome">
                    <a href = "/">Home Page</a>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div>
    </div>
</div>

{% endblock %}
